<!DOCTYPE html>
<html lang="en">
<meta charset='utf-8' />

<head>
    <title>National Geographies of H1B Foreign Worker Visa</title>
    <!--- data imports-->
    <script src="data/geojson/majorcities.geojson"></script>
    <!-- libraries -->
    <!-- Essentials -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.0/underscore-min.js"></script>
    <!-- style sheets -->
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet' />
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Sans+Condensed|Oxygen+Mono|Merriweather+Sans" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css" integrity="sha384-G0fIWCsCzJIMAVNQPfjH08cyYaUtMwjJwqiRKxxE/rx96Uroj1BtIQ6MLJuheaO9" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css" />
    <!-- front loads-->
    <script src="js/filter.js"></script>
</head>

<body>
    <div class="curtain" id="dark-background"></div>
    <div class='overlay' id='popup-window'>
        <h3> About the Map </h3>
        <i class="fas fa-times close"></i>
        <div class='popup-content'>
            american_dreams.temp is a data visualization project completed for the final project in 2018 Spring Javascript for Planners and Designers course at PennDesign.
            <br>
            <br> Currently, this interactive map only displays the H1B petitions that were released as 2017Q2 (January 2017 ~ March 2017), the most recent dataset of the second quarter, which is when the petition filings peak, thus showing the richest diversity amongst different regions. Going forward, this map will be improved to include a time slider that will allow users to visualize over time.
            <br>
            <br> Filter the map using the sidebar buttons. Explore through zooms (state vs. county data), mouse-hovering over the major cities where most number of H1B visa petitions originate from, and by clicking the geographies that will display detailed information about the place on the sidebar.
            <br>
            <br> Data Source: <a href="http://www.flcdatacenter.com/CaseH1B.aspx" target="_blank">LCA Disclosure Data</a>
            <br>
            <br> Data Processing & Visualization by Alana S Kim
        </div>
    </div>
    <div class="wrapper" id="wrapper">
        <div class="title">
            <h1>american_dreams.temp</h1>
        </div>
        <div class="filterbar-background">
            <sup id='about'><i class="fas fa-question-circle"> </i></sup>
        </div>
        <div class="filterbar">
            <div class="filterbox" id="subj-filter">
                <h3 class='filter-title' id="subj-title">Visualize by Place of</h3>
                <div class="fb-tab fb-tab-active" id="worksite">
                    <div class="fb-spot">
                        <span class="fb-text">WORKSITE</span>
                    </div>
                </div>
                <div class="fb-tab" id="employer">
                    <div class="fb-spot">
                        <span class="fb-text">EMPLOYER</span>
                    </div>
                </div>
            </div>
            <div class="filterbox" id="result-filter">
                <h3 class="filter-title" id="result-title">Select Petition Result</h3>
                <div class="fb-tab fb-tab-active" id="certified">
                    <div class="fb-spot">
                        <span class="fb-text">CERTIFIED</span>
                    </div>
                </div>
                <div class="fb-tab" id="denied">
                    <div class="fb-spot">
                        <span class="fb-text">DENIED</span>
                    </div>
                </div>
                <div class="fb-tab" id="withdrawn">
                    <div class="fb-spot">
                        <span class="fb-text">WITHDRAWN</span>
                    </div>
                </div>
            </div>
            <div class="filterbox" id="key-filter">
                <h3 class="filter-title" id="key-title">Quantify Map By</h3>
                <div class="fb-tab fb-tab-active" id="worker">
                    <div class="fb-spot">
                        <span class="fb-text" id="key-filter-text">Worker #s</span>
                    </div>
                </div>
                <div class="fb-tab" id="avgsal">
                    <div class="fb-spot">
                        <span class="fb-text" id="key-filter-text">Average $</span>
                    </div>
                </div>
            </div>
            <div class="description" id="infobox">
                <h4></h4>
            </div>
        </div>
        <div class='maphere' id='map'>
        </div>
    </div>
    <div class='legend-option state work cert' id='state-cert-w'>
        <h5 class='legend-title'># Certified</h5>
        <div class='row col-bar cert-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>2</div>
            <div class='label'>209</div>
            <div class='label'>741</div>
            <div class='label'>2,314</div>
            <div class='label'>6,537</div>
            <div class='label'>142,255</div>
        </div>
    </div>
    <div class='legend-option state work den' id='state-den-w'>
        <h5 class='legend-title'># Denied</h5>
        <div class='row col-bar den-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>1</div>
            <div class='label'>5</div>
            <div class='label'>12</div>
            <div class='label'>30</div>
            <div class='label'>89</div>
            <div class='label'>2276</div>
        </div>
    </div>
    <div class='legend-option state work wd' id='state-wd-w'>
        <h5 class='legend-title'># Withdrew</h5>
        <div class='row col-bar wd-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>1</div>
            <div class='label'>9</div>
            <div class='label'>26</div>
            <div class='label'>72</div>
            <div class='label'>183</div>
            <div class='label'>3709</div>
        </div>
    </div>
    <div class='legend-option state emp cert' id='state-cert-e'>
        <h5 class='legend-title'># Certified</h5>
        <div class='row col-bar cert-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>2</div>
            <div class='label'>87</div>
            <div class='label'>246</div>
            <div class='label'>674</div>
            <div class='label'>4,087</div>
            <div class='label'>151,092</div>
        </div>
    </div>
    <div class='legend-option state work den' id='state-den-e'>
        <h5 class='legend-title'># Denied</h5>
        <div class='row col-bar den-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>1</div>
            <div class='label'>4</div>
            <div class='label'>9</div>
            <div class='label'>21</div>
            <div class='label'>68</div>
            <div class='label'>2,629</div>
        </div>
    </div>
    <div class='legend-option state work wd' id='state-wd-e'>
        <h5 class='legend-title'># Withdrew</h5>
        <div class='row col-bar wd-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>1</div>
            <div class='label'>5</div>
            <div class='label'>12</div>
            <div class='label'>39</div>
            <div class='label'>135</div>
            <div class='label'>151,149</div>
        </div>
    </div>
    <div class='legend-option county work cert' id='county-cert-w'>
        <h5 class='legend-title'># Certified</h5>
        <div class='row col-bar cert-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>0</div>
            <div class='label'>1</div>
            <div class='label'>3</div>
            <div class='label'>8</div>
            <div class='label'>47</div>
            <div class='label'>65,191</div>
        </div>
    </div>
    <div class='legend-option county work den' id='county-den-w'>
        <h5 class='legend-title'># Denied</h5>
        <div class='row col-bar den-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>0</div>
            <div class='label'>1</div>
            <div class='label'>2</div>
            <div class='label'>3</div>
            <div class='label'>8</div>
            <div class='label'>1,137</div>
        </div>
    </div>
    <div class='legend-option county work wd' id='county-wd-w'>
        <h5 class='legend-title'># Withdrew</h5>
        <div class='row col-bar wd-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>0</div>
            <div class='label'>1</div>
            <div class='label'>2</div>
            <div class='label'>4</div>
            <div class='label'>14</div>
            <div class='label'>1,128</div>
        </div>
    </div>
    <div class='legend-option county emp cert' id='county-cert-e'>
        <h5 class='legend-title'># Certified</h5>
        <div class='row col-bar cert-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>0</div>
            <div class='label'>1</div>
            <div class='label'>2</div>
            <div class='label'>6</div>
            <div class='label'>27</div>
            <div class='label'>90,320</div>
        </div>
    </div>
    <div class='legend-option county work den' id='county-den-e'>
        <h5 class='legend-title'># Denied</h5>
        <div class='row col-bar den-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>0</div>
            <div class='label'>1</div>
            <div class='label'>2</div>
            <div class='label'>3</div>
            <div class='label'>7</div>
            <div class='label'>2,474</div>
        </div>
    </div>
    <div class='legend-option county work wd' id='county-wd-e'>
        <h5 class='legend-title'># Withdrew</h5>
        <div class='row col-bar wd-colors'>
        </div>
        <div class='row labels'>
            <div class='label'>0</div>
            <div class='label'>1</div>
            <div class='label'>2</div>
            <div class='label'>3</div>
            <div class='label'>11</div>
            <div class='label'>14,893</div>
        </div>
    </div>
    <div class='legend-option avgsal' id='avg-sal'>
        <h5 class='legend-title'>Average Salary</h5>
        <div class='row col-bar sal-colors'>
        </div>
        <div class='row labels'>
            <div class='m-label'>$ 30,000</div>
            <div class='m-label'>$ 45,000</div>
            <div class='m-label'>$ 65,000</div>
            <div class='m-label'>$ 85,000</div>
            <div class='m-label'>$100,000+</div>
        </div>
    </div>
    <div class='legend-background'>
    </div>
    <!-- mapboxGL -->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
    <script src="js/main.js"></script>
    <script src="js/buttons.js"></script>
    <!-- <script src="js/main.js"></script> -->
</body>

</html>